From 79c42e742c37b0d4a50a9185885578f3451a49f2 Mon Sep 17 00:00:00 2001
From: akhilesh <akhileshpookkuttiyil@gmail.com>
Date: Fri, 25 Apr 2025 11:44:25 +0530
Subject: [PATCH 17/25] added products by category

---
 client/src/App.jsx                        |  2 +
 client/src/Components/Categories.jsx      | 24 ++++++---
 client/src/Components/ProductCategory.jsx | 60 +++++++++++++++++++++++
 client/src/Context/AppContext.jsx         |  3 +-
 4 files changed, 80 insertions(+), 9 deletions(-)
 create mode 100644 client/src/Components/ProductCategory.jsx

diff --git a/client/src/App.jsx b/client/src/App.jsx
index 4bb9e13..8661219 100644
--- a/client/src/App.jsx
+++ b/client/src/App.jsx
@@ -8,6 +8,7 @@ import { useAppContext } from "./Context/AppContext";
 import Login from "./Components/Login";
 import AllProducts from "./Components/AllProducts";
 import Noresults from "./Components/Noresults";
+import ProductCategory from "./Components/ProductCategory";
 
 const App = () => {
   // Determine if the current path is a seller-related page
@@ -34,6 +35,7 @@ const App = () => {
         <Routes>
           <Route path="/" element={<Home />} />
           <Route path="/products" element={<AllProducts />} />
+          <Route path="/products/:category" element={<ProductCategory />} />
           <Route path="*" element={<Noresults/>} />
           {/* Add Additional Routes Here */}
         </Routes>
diff --git a/client/src/Components/Categories.jsx b/client/src/Components/Categories.jsx
index a1dc54d..da50a0e 100644
--- a/client/src/Components/Categories.jsx
+++ b/client/src/Components/Categories.jsx
@@ -7,24 +7,32 @@ const Categories = () => {
 
   return (
     <div className="mt-16">
+      {/* Header */}
       <p className="text-2xl md:text-3xl font-medium">Categories</p>
-      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 mt-6 gap-6">
-        {categories.map((category, index) => (
+
+      {/* Categories Grid */}
+      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-7 mt-6 gap-6">
+        {categories.map((category) => (
           <div
-            key={index}
-            className="group cursor-pointer py-5 px-3 gap-2 rounded-lg flex flex-col items-center justify-center shadow-md hover:shadow-lg "
+            key={category.path} // Use a unique key for performance optimization
+            className="group cursor-pointer py-5 px-3 rounded-lg flex flex-col items-center justify-center shadow-md hover:shadow-lg transition-transform duration-200"
             style={{ backgroundColor: category.bgColor }}
             onClick={() => {
-              navigate(`/products/${category.path.toLocaleLowerCase()}`);
-              window.scrollTo(0, 0);
+              // Smooth navigation and scrolling
+              navigate(`/products/${category.path.toLowerCase()}`);
+              window.scrollTo({ top: 0, behavior: "smooth" });
             }}
           >
+            {/* Category Image */}
             <img
               src={category.image}
               alt={category.text}
-              className="group-hover:scale-105 transition max-w-28"
+              className="group-hover:scale-105 transition-transform duration-200 max-w-[100px]"
             />
-            <p className="text-sm font-medium">{category.text}</p>
+            {/* Category Name */}
+            <p className="text-sm font-medium text-center mt-2">
+              {category.text}
+            </p>
           </div>
         ))}
       </div>
diff --git a/client/src/Components/ProductCategory.jsx b/client/src/Components/ProductCategory.jsx
new file mode 100644
index 0000000..a250f83
--- /dev/null
+++ b/client/src/Components/ProductCategory.jsx
@@ -0,0 +1,60 @@
+import React from "react";
+import { useParams } from "react-router-dom";
+import { useAppContext } from "../Context/AppContext";
+import { categories } from "../assets/assets";
+import ProductCard from "./ProductCard";
+
+const ProductCategory = () => {
+  const { products } = useAppContext();
+  const { category } = useParams();
+
+  // Normalize the category for case-insensitive matching
+  const categoryName = category?.toLowerCase();
+
+  // Find the corresponding category object
+  const foundCategory = categories.find(
+    (item) => item.path.toLowerCase() === categoryName
+  );
+
+  // Filter products by category
+  const productsInCategory = products.filter(
+    (product) => product.category.toLowerCase() === categoryName
+  );
+
+  // Render if category not found
+  if (!foundCategory) {
+    return (
+      <div className="mt-16 flex items-center justify-center">
+        <p className="text-2xl font-medium text-primary">Category not found!</p>
+      </div>
+    );
+  }
+
+  // Main component rendering
+  return (
+    <div className="mt-16">
+      {/* Header */}
+      <div className="flex flex-col items-end w-max">
+        <p className="text-2xl font-medium">
+          {foundCategory.text.toUpperCase()}
+        </p>
+        <div className="w-16 h-0.5 rounded-full bg-primary"></div>
+      </div>
+
+      {/* Product Grid */}
+      {productsInCategory.length > 0 ? (
+        <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-6 mt-6">
+          {productsInCategory.map((product) => (
+            <ProductCard key={product._id} product={product} />
+          ))}
+        </div>
+      ) : (
+        <div className="flex items-center justify-center h-[60vh]">
+          <p className="text-2xl font-medium text-primary">No Products Found</p>
+        </div>
+      )}
+    </div>
+  );
+};
+
+export default ProductCategory;
diff --git a/client/src/Context/AppContext.jsx b/client/src/Context/AppContext.jsx
index 0c8f9c1..139efdc 100644
--- a/client/src/Context/AppContext.jsx
+++ b/client/src/Context/AppContext.jsx
@@ -13,7 +13,8 @@ export const AppContextProvider = ({ children }) => {
   const [showUserLogin, setshowUserLogin] = useState(false);
   const [products, setProducts] = useState([]);
   const [cartItems, setcartItems] = useState({});
-  const [searchQuery, setsearchQuery] = useState({});
+  const [searchQuery, setsearchQuery] = useState("");
+
   
   
   const fetchProducts = async () => {
-- 
2.46.1.windows.1

