From a948af33aee9b09e67cf070be754468fc4a9fd00 Mon Sep 17 00:00:00 2001
From: akhilesh <akhileshpookkuttiyil@gmail.com>
Date: Tue, 22 Apr 2025 20:53:56 +0530
Subject: [PATCH 08/25] added best sellers section

---
 client/.env                                 |  1 +
 client/src/Components/BestSeller.jsx        | 25 ++++++
 client/src/Components/MainBanner.module.css | 15 ++++
 client/src/Components/ProductCard.jsx       | 90 +++++++++++++++++++++
 client/src/Context/AppContext.jsx           | 18 ++++-
 client/src/Pages/Home.jsx                   |  2 +
 6 files changed, 150 insertions(+), 1 deletion(-)

diff --git a/client/.env b/client/.env
index e69de29..2c79c18 100644
--- a/client/.env
+++ b/client/.env
@@ -0,0 +1 @@
+VITE_CURRENCY = 'â‚¹'
\ No newline at end of file
diff --git a/client/src/Components/BestSeller.jsx b/client/src/Components/BestSeller.jsx
index e69de29..3a6166f 100644
--- a/client/src/Components/BestSeller.jsx
+++ b/client/src/Components/BestSeller.jsx
@@ -0,0 +1,25 @@
+import React from "react";
+import ProductCard from "./ProductCard";
+import { useAppContext } from "../Context/AppContext";
+
+const BestSeller = () => {
+  const { products } = useAppContext();
+
+  return (
+    <div className="mt-16">
+      <p className="text-2xl md:text-3xl font-medium">Best Sellers</p>
+
+      {/* Professionally responsive grid layout */}
+      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8 xl:gap-10 justify-items-center items-start mt-6">
+        {products
+          .filter((product) => product.inStock)
+          .slice(0, 5)
+          .map((product) => (
+            <ProductCard key={product._id} product={product} />
+          ))}
+      </div>
+    </div>
+  );
+};
+
+export default BestSeller;
diff --git a/client/src/Components/MainBanner.module.css b/client/src/Components/MainBanner.module.css
index e69de29..8561465 100644
--- a/client/src/Components/MainBanner.module.css
+++ b/client/src/Components/MainBanner.module.css
@@ -0,0 +1,15 @@
+.fadeIn {
+    animation: fadeIn 0.6s ease-in-out;
+  }
+  
+  @keyframes fadeIn {
+    from {
+      opacity: 0;
+      transform: translateY(10px);
+    }
+    to {
+      opacity: 1;
+      transform: translateY(0);
+    }
+  }
+  
\ No newline at end of file
diff --git a/client/src/Components/ProductCard.jsx b/client/src/Components/ProductCard.jsx
index e69de29..c3a85ff 100644
--- a/client/src/Components/ProductCard.jsx
+++ b/client/src/Components/ProductCard.jsx
@@ -0,0 +1,90 @@
+import React from "react";
+import { assets } from "../assets/assets";
+import { useAppContext } from "../Context/AppContext";
+
+const ProductCard = ({ product }) => {
+  const { currency, addToCart, removeFromCart, cartItems } = useAppContext();
+  if (!product) return null; // Prevent errors if product is undefined
+
+  const itemQuantity = cartItems?.[product._id] || 0; // Avoid undefined errors
+
+  return (
+    <div className="border border-gray-500/20 rounded-md bg-white w-[200px] max-w-[220px] mx-auto px-3 py-2">
+      <div className="group cursor-pointer flex items-center justify-center px-2">
+        <img
+          className="group-hover:scale-105 transition max-w-26 md:max-w-36"
+          src={product?.image?.[0]}
+          alt={product?.name || "Product"}
+        />
+      </div>
+      <div className="text-gray-500/60 text-sm">
+        <p>{product.category}</p>
+        <p className="text-gray-700 font-medium text-lg truncate w-full">
+          {product.name}
+        </p>
+        <div className="flex items-center gap-0.5">
+          {Array(5)
+            .fill("")
+            .map((_, i) => (
+              <img
+                key={i}
+                className="md:w-3.5 w-3"
+                src={i < 4 ? assets.star_icon : assets.star_dull_icon}
+                alt=""
+              />
+            ))}
+          <p>({4})</p>
+        </div>
+        <div className="flex items-end justify-between mt-3">
+          <p className="md:text-xl text-base font-medium text-primary">
+            {currency}
+            {product.offerPrice}{" "}
+            <span className="text-gray-500/60 md:text-sm text-xs line-through">
+              {currency} {product.price}
+            </span>
+          </p>
+          <div className="text-primary">
+            {!itemQuantity ? (
+              <button
+                className="group flex items-center justify-center gap-2 px-4 py-2 bg-primary/25 hover:bg-primary-dark transition-all duration-300 rounded-md text-white cursor-pointer"
+                onClick={(e) => {
+                  e.stopPropagation();
+                  addToCart(product._id);
+                }}
+              >
+                <img className="w-4" src={assets.cart_icon} alt="cart icon" />
+                <span className="group-hover:scale-105 transition-transform duration-300 text-primary-dull">
+                  Add
+                </span>
+              </button>
+            ) : (
+              <div className="flex items-center justify-center gap-2 md:w-20 w-16 h-[34px] bg-primary/25 rounded select-none">
+                <button
+                  onClick={(e) => {
+                    e.stopPropagation();
+                    removeFromCart(product._id);
+                  }}
+                  className="cursor-pointer text-md px-2 h-full"
+                >
+                  -
+                </button>
+                <span className="w-5 text-center">{itemQuantity}</span>
+                <button
+                  onClick={(e) => {
+                    e.stopPropagation();
+                    addToCart(product._id);
+                  }}
+                  className="cursor-pointer text-md px-2 h-full"
+                >
+                  +
+                </button>
+              </div>
+            )}
+          </div>
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default ProductCard;
diff --git a/client/src/Context/AppContext.jsx b/client/src/Context/AppContext.jsx
index f9f30ff..7ea1ab2 100644
--- a/client/src/Context/AppContext.jsx
+++ b/client/src/Context/AppContext.jsx
@@ -1,14 +1,28 @@
-import { createContext, useState, useContext } from "react";
+import { createContext, useState, useContext, useEffect } from "react";
 import { useNavigate } from "react-router-dom";
+import { dummyProducts } from "../assets/assets";
 
 export const AppContext = createContext();
 
 export const AppContextProvider = ({ children }) => {
+  const currency = import.meta.env.VITE_CURRENCY;
   const navigate = useNavigate();
   const [user, setUser] = useState(null);
   const [isSeller, setIsSeller] = useState(false);
   const [showUserLogin, setshowUserLogin] = useState(false);
+  const [products, setProducts] = useState([]);
 
+  const fetchProducts = async () => {
+    try {
+      setProducts(dummyProducts);
+    } catch (error) {
+      console.error("Error fetching products:", error);
+    }
+  };
+
+  useEffect(() => {
+    fetchProducts();
+  }, []);
 
   const value = {
     navigate,
@@ -18,6 +32,8 @@ export const AppContextProvider = ({ children }) => {
     setIsSeller,
     showUserLogin,
     setshowUserLogin,
+    products,
+    currency,
   };
 
   return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
diff --git a/client/src/Pages/Home.jsx b/client/src/Pages/Home.jsx
index a6c6edc..930f743 100644
--- a/client/src/Pages/Home.jsx
+++ b/client/src/Pages/Home.jsx
@@ -1,12 +1,14 @@
 import React from "react";
 import MainBanner from "../Components/MainBanner";
 import Categories from "../Components/Categories";
+import BestSeller from "../Components/BestSeller";
 
 const Home = () => {
   return (
     <div className="mt-10">
       <MainBanner />
       <Categories/>
+      <BestSeller/>
     </div>
   );
 };
-- 
2.46.1.windows.1

