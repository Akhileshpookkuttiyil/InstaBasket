From e29af1edf35ecb49278313a921f1cd2344dafc8a Mon Sep 17 00:00:00 2001
From: akhilesh <akhileshpookkuttiyil@gmail.com>
Date: Thu, 24 Apr 2025 20:34:13 +0530
Subject: [PATCH 14/25] added active color when clicking the links and
 initiated Allproducts section

---
 client/src/App.jsx                    |  2 ++
 client/src/Components/AllProducts.jsx | 43 +++++++++++++++++++++++++++
 client/src/Components/Navbar.jsx      | 27 +++++++++++++++--
 client/src/Context/AppContext.jsx     |  6 +++-
 4 files changed, 74 insertions(+), 4 deletions(-)
 create mode 100644 client/src/Components/AllProducts.jsx

diff --git a/client/src/App.jsx b/client/src/App.jsx
index 155b7b1..b3779c0 100644
--- a/client/src/App.jsx
+++ b/client/src/App.jsx
@@ -6,6 +6,7 @@ import Footer from "./Components/Footer";
 import { Toaster } from "react-hot-toast";
 import { useAppContext } from "./Context/AppContext";
 import Login from "./Components/Login";
+import AllProducts from "./Components/AllProducts";
 
 const App = () => {
   // Determine if the current path is a seller-related page
@@ -31,6 +32,7 @@ const App = () => {
       >
         <Routes>
           <Route path="/" element={<Home />} />
+          <Route path="/products" element={<AllProducts />} />
           {/* Add Additional Routes Here */}
         </Routes>
       </div>
diff --git a/client/src/Components/AllProducts.jsx b/client/src/Components/AllProducts.jsx
new file mode 100644
index 0000000..8ae7091
--- /dev/null
+++ b/client/src/Components/AllProducts.jsx
@@ -0,0 +1,43 @@
+import React, { useEffect, useState } from "react";
+import { useAppContext } from "../Context/AppContext";
+import ProductCard from "./ProductCard";
+
+const AllProducts = () => {
+  const { products, searchQuery } = useAppContext();
+  const [filteredProducts, setFilteredProducts] = useState([]);
+
+  useEffect(() => {
+    if (searchQuery.length > 0) {
+      setFilteredProducts(
+        products.filter(
+          (product) =>
+            product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
+            product.description
+              .toLowerCase()
+              .includes(searchQuery.toLowerCase())
+        )
+      );
+    } else {
+      setFilteredProducts(products);
+    }
+  }, [products, searchQuery]);
+
+  return (
+    <div className="mt-16 flex flex-col">
+      <div className="flex flex-col items-end w-max">
+        <p className="text-2xl font-medium uppercase">All Products</p>
+        <div className="w-16 h-0.5 bg-primary rounded-full"></div>
+      </div>
+
+      <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-6 lg:grid-cols-5 mt-6">
+        {filteredProducts
+          .filter((product) => product.inStock)
+          .map((product, index) => (
+            <ProductCard key={index} product={product} />
+          ))}
+      </div>
+    </div>
+  );
+};
+
+export default AllProducts;
diff --git a/client/src/Components/Navbar.jsx b/client/src/Components/Navbar.jsx
index 204a6ec..ca31fe5 100644
--- a/client/src/Components/Navbar.jsx
+++ b/client/src/Components/Navbar.jsx
@@ -20,9 +20,30 @@ const Navbar = () => {
       </NavLink>
       {/* Desktop Menu */}
       <div className="hidden sm:flex items-center gap-8">
-        <NavLink to="/">Home</NavLink>
-        <NavLink to="/products">All Products</NavLink>
-        <NavLink to="/contact">Contact</NavLink>
+        <NavLink
+          to="/"
+          className={({ isActive }) =>
+            isActive ? "text-primary" : "text-gray-600"
+          }
+        >
+          Home
+        </NavLink>
+        <NavLink
+          to="/products"
+          className={({ isActive }) =>
+            isActive ? "text-primary" : "text-gray-600"
+          }
+        >
+          All Products
+        </NavLink>
+        <NavLink
+          to="/contact"
+          className={({ isActive }) =>
+            isActive ? "text-primary" : "text-gray-600"
+          }
+        >
+          Contact
+        </NavLink>
 
         <div className="hidden lg:flex items-center text-sm gap-2 border border-gray-300 px-3 rounded-full">
           <input
diff --git a/client/src/Context/AppContext.jsx b/client/src/Context/AppContext.jsx
index 1a68ca7..0c8f9c1 100644
--- a/client/src/Context/AppContext.jsx
+++ b/client/src/Context/AppContext.jsx
@@ -13,7 +13,9 @@ export const AppContextProvider = ({ children }) => {
   const [showUserLogin, setshowUserLogin] = useState(false);
   const [products, setProducts] = useState([]);
   const [cartItems, setcartItems] = useState({});
-
+  const [searchQuery, setsearchQuery] = useState({});
+  
+  
   const fetchProducts = async () => {
     try {
       setProducts(dummyProducts);
@@ -81,6 +83,8 @@ export const AppContextProvider = ({ children }) => {
     updateCartItem,
     removeFromCart,
     cartItems,
+    searchQuery,
+    setsearchQuery,
   };
 
   return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
-- 
2.46.1.windows.1

