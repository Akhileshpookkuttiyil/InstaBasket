From e1bbe4fad98775090a58e0549a5b282ce4e8b6cc Mon Sep 17 00:00:00 2001
From: akhilesh <akhileshpookkuttiyil@gmail.com>
Date: Wed, 16 Apr 2025 12:09:49 +0530
Subject: [PATCH 04/25] added links && hover list to navbar

---
 client/src/Components/Navbar.jsx  | 125 ++++++++++++++----------------
 client/src/Context/AppContext.jsx |   3 +-
 2 files changed, 62 insertions(+), 66 deletions(-)

diff --git a/client/src/Components/Navbar.jsx b/client/src/Components/Navbar.jsx
index 37bd728..9c52c06 100644
--- a/client/src/Components/Navbar.jsx
+++ b/client/src/Components/Navbar.jsx
@@ -1,13 +1,22 @@
 import React from "react";
 import { NavLink } from "react-router-dom";
 import { assets } from "../assets/assets";
+import { useAppContext } from "../Context/AppContext";
 
 const Navbar = () => {
   const [open, setOpen] = React.useState(false);
+  const { user, setUser,setshowUserLogin,navigate } = useAppContext();
+  
+  const logout = async ()=>{
+    setUser(null);
+    navigate("/");
+  }
+
   return (
     <nav className="flex items-center justify-between px-6 md:px-16 lg:px-24 xl:px-32 py-4 border-b border-gray-300 bg-white relative transition-all">
-      <NavLink to="/">
-        <img className="h-16 w-40" src={assets.logo} alt="logo" />
+      <NavLink to="/" onClick={() => setOpen(false)}>
+        {/* Logo */}
+        <img className="h-14 w-44" src={assets.logo} alt="logo" />
       </NavLink>
 
       {/* Desktop Menu */}
@@ -22,54 +31,37 @@ const Navbar = () => {
             type="text"
             placeholder="Search products"
           />
-          <svg
-            width="16"
-            height="16"
-            viewBox="0 0 16 16"
-            fill="none"
-            xmlns="http://www.w3.org/2000/svg"
-          >
-            <path
-              d="M10.836 10.615 15 14.695"
-              stroke="#7A7B7D"
-              stroke-width="1.2"
-              stroke-linecap="round"
-              stroke-linejoin="round"
-            />
-            <path
-              clip-rule="evenodd"
-              d="M9.141 11.738c2.729-1.136 4.001-4.224 2.841-6.898S7.67.921 4.942 2.057C2.211 3.193.94 6.281 2.1 8.955s4.312 3.92 7.041 2.783"
-              stroke="#7A7B7D"
-              stroke-width="1.2"
-              stroke-linecap="round"
-              stroke-linejoin="round"
-            />
-          </svg>
+          <img
+            src={assets.search_icon}
+            alt="search icon"
+            className="w-4 h-4"
+          ></img>
         </div>
 
-        <div className="relative cursor-pointer">
-          <svg
-            width="18"
-            height="18"
-            viewBox="0 0 14 14"
-            fill="none"
-            xmlns="http://www.w3.org/2000/svg"
-          >
-            <path
-              d="M.583.583h2.333l1.564 7.81a1.17 1.17 0 0 0 1.166.94h5.67a1.17 1.17 0 0 0 1.167-.94l.933-4.893H3.5m2.333 8.75a.583.583 0 1 1-1.167 0 .583.583 0 0 1 1.167 0m6.417 0a.583.583 0 1 1-1.167 0 .583.583 0 0 1 1.167 0"
-              stroke="#615fff"
-              stroke-linecap="round"
-              stroke-linejoin="round"
-            />
-          </svg>
+        <div onClick={()=>navigate("/cart")} className="relative cursor-pointer">
+          <img
+            src={assets.nav_cart_icon}
+            alt="cart"
+            className="w-6 opacity-80"
+          ></img>
           <button className="absolute -top-2 -right-3 text-xs text-white bg-primary w-[18px] h-[18px] rounded-full">
             3
           </button>
         </div>
 
-        <button className="cursor-pointer px-8 py-2 bg-primary hover:bg-primary transition text-white rounded-full">
+        {( !user ? ( <button onClick={()=> setshowUserLogin(true)} className="cursor-pointer px-8 py-2 bg-primary hover:bg-primary transition text-white rounded-full">
           Login
-        </button>
+        </button>) : (
+          <div className="relative group">
+            <img
+              src={assets.profile_icon}
+              alt="user"
+              className="w-10 h-10 rounded-full cursor-pointer"/>
+              <ul className="hidden group-hover:block absolute top-10 right-0 bg-white shadow-md border border-gray-200 py-2.5 w-30 rounded-md text-sm z-40">
+                <li onClick={()=>navigate("/my-orders")} className="p-1.5 pl-3 hover:bg-primary/10 cursor-pointer">My Orders</li>
+                <li onClick={logout} className="p-1.5 pl-3 hover:bg-primary/10 cursor-pointer">LogOut</li>
+              </ul>
+          </div>))}
       </div>
 
       <button
@@ -78,38 +70,41 @@ const Navbar = () => {
         className="sm:hidden"
       >
         {/* Menu Icon SVG */}
-        <svg
-          width="21"
-          height="15"
-          viewBox="0 0 21 15"
-          fill="none"
-          xmlns="http://www.w3.org/2000/svg"
-        >
-          <rect width="21" height="1.5" rx=".75" fill="#426287" />
-          <rect x="8" y="6" width="13" height="1.5" rx=".75" fill="#426287" />
-          <rect x="6" y="13" width="15" height="1.5" rx=".75" fill="#426287" />
-        </svg>
+        <img src={assets.menu_icon} alt="menu icon" />
       </button>
 
       {/* Mobile Menu */}
-      <div
+      {open&& (<div
         className={`${
           open ? "flex" : "hidden"
         } absolute top-[60px] left-0 w-full bg-white shadow-md py-4 flex-col items-start gap-2 px-5 text-sm md:hidden`}
       >
-        <a href="#" className="block">
+        <NavLink to="/" onClick={() => setOpen(false)}>
           Home
-        </a>
-        <a href="#" className="block">
-          About
-        </a>
-        <a href="#" className="block">
+        </NavLink>
+        <NavLink to="/products" onClick={() => setOpen(false)}>
+          All Products
+        </NavLink>
+        {user && (
+          <NavLink to="/orders" onClick={() => setOpen(false)}>
+            My Orders
+          </NavLink>
+        )}
+        <NavLink to="contact" onClick={() => setOpen(false)}>
           Contact
-        </a>
-        <button className="cursor-pointer px-6 py-2 mt-2 bg-primary hover:bg-primary transition text-white rounded-full text-sm">
-          Login
-        </button>
-      </div>
+        </NavLink>
+        {!user ? (
+          <button onClick={()=>{
+            setOpen(false);
+            setshowUserLogin(true);
+          }} className="cursor-pointer px-6 py-2 mt-2 bg-primary hover:bg-primary transition text-white rounded-full text-sm">
+            Login
+          </button>
+        ): (
+        <button onClick={logout} className="cursor-pointer px-6 py-2 mt-2 bg-primary hover:bg-primary transition text-white rounded-full text-sm">
+          Logout
+        </button>)}
+      </div>)}
     </nav>
   );
 };
diff --git a/client/src/Context/AppContext.jsx b/client/src/Context/AppContext.jsx
index d14e4ef..5d36c27 100644
--- a/client/src/Context/AppContext.jsx
+++ b/client/src/Context/AppContext.jsx
@@ -7,8 +7,9 @@ export const AppContextProvider = ({ children }) => {
   const navigate = useNavigate();
   const [user, setUser] = useState(null);
   const [isSeller, setIsSeller] = useState(false);
+  const [showUserLogin,setshowUserLogin ] = useState(false);
 
-  const value = { navigate, user, setUser, isSeller, setIsSeller };
+  const value = { navigate, user, setUser, isSeller, setIsSeller, showUserLogin, setshowUserLogin };
 
   return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
 };
-- 
2.46.1.windows.1

